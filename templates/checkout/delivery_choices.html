{% extends 'base.html' %}
{% load static %}

{% block title %}Delivery Options{% endblock title %}

{% block content %}
	<div class="pt-5">
		<div class="container">
			<div class="col-12">
				<h1 class="h2">Delivery Options</h1>
			</div>
			<div class="col-12"><p>Select your delivery method:</p></div>
			<hr>
		</div>
	</div>
	<div class="container">
		<div class="row g-3">

			{% if delivery_options|length > 0 %}

				{% include 'checkout/_price.html' %}

				<div class="col-md-7 col-lg-8">
					{% for option in delivery_options %}
						{% if option.delivery_method == 'PA' %}

							<div class="card product-item border-1 rounded-0 mb-3 me-md-4" data-index="{{ option.id }}">
								<label for="{{ option.id }}">
									<div class="row g-0 align-items-center">

										<div class="col-md-2 ps-3 ps-md-4">
											<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-truck" viewBox="0 0 16 16">
												<path d="M0 3.5A1.5 1.5 0 0 1 1.5 2h9A1.5 1.5 0 0 1 12 3.5V5h1.02a1.5 1.5 0 0 1 1.17.563l1.481 1.85a1.5 1.5 0 0 1 .329.938V10.5a1.5 1.5 0 0 1-1.5 1.5H14a2 2 0 1 1-4 0H5a2 2 0 1 1-3.998-.085A1.5 1.5 0 0 1 0 10.5v-7zm1.294 7.456A1.999 1.999 0 0 1 4.732 11h5.536a2.01 2.01 0 0 1 .732-.732V3.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .294.456zM12 10a2 2 0 0 1 1.732 1h.768a.5.5 0 0 0 .5-.5V8.35a.5.5 0 0 0-.11-.312l-1.48-1.85A.5.5 0 0 0 13.02 6H12v4zm-9 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm9 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"></path>
											</svg>
										</div>

										<div class="col-md-9 ps-md-1">
											<div class="card-body p1">
												<p class="card-text ps-2 mb-1 pt-1 fw-bold">{{ option.delivery_name }}</p>
												<p class="card-text ps-2 mb-1">Estimated delivery time: {{ option.delivery_timeframe }}</p>
												<p class="card-text ps-2 mb-1">$ {{ option.delivery_price }}</p>
											</div>
										</div>
										<div class="col-md-1 ps-md-1">
											<input type="radio" class="align-middle h-11" name="delivery_option" id="{{ option.id }}" value="{{ option.id }}"
												   hx-trigger="click" hx-target="#price" hx-get="{% url 'checkout:update_delivery' option.id %}" hx-swap="outerHTML">
										</div>

									</div>
								</label>
							</div>

						{% endif %}
					{% endfor %}


					{% for option in delivery_options %}
						{% if option.delivery_method == 'IS' %}

							<div class="card product-item border-1 rounded-0 mb-3 me-md-4" data-index="{{ option.id }}">
								<label for="{{ option.id }}">
									<div class="row g-0 align-items-center">

										<div class="col-md-2 ps-3 ps-md-4">
											<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-cart3" viewBox="0 0 16 16">
												<path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"></path>
											</svg>
										</div>

										<div class="col-md-9 ps-md-1">
											<div class="card-body p1">
												<p class="card-text ps-2 mb-1 pt-1 fw-bold">{{ option.delivery_name }}</p>
												<p class="card-text ps-2 mb-1">Estimated delivery time: {{ option.delivery_timeframe }}</p>
												<p class="card-text ps-2 mb-1">$ {{ option.delivery_price }}</p>
											</div>
										</div>
										<div class="col-md-1 ps-md-1">
											<input type="radio" class="align-middle h-11" name="delivery_option" id="{{ option.id }}" value="{{ option.id }}"
												   hx-trigger="click" hx-target="#price" hx-get="{% url 'checkout:update_delivery' option.id %}" hx-swap="outerHTML">
										</div>

									</div>
								</label>
							</div>

						{% endif %}
					{% endfor %}

					{% for option in delivery_options %}
						{% if option.delivery_method == 'DD' %}

							<div class="card product-item border-1 rounded-0 mb-3 me-md-4" data-index="{{ option.id }}">
								<label for="{{ option.id }}">
									<div class="row g-0 align-items-center">

										<div class="col-md-2 ps-3 ps-md-4">
											<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-laptop" viewBox="0 0 16 16">
												<path d="M13.5 3a.5.5 0 0 1 .5.5V11H2V3.5a.5.5 0 0 1 .5-.5h11zm-11-1A1.5 1.5 0 0 0 1 3.5V12h14V3.5A1.5 1.5 0 0 0 13.5 2h-11zM0 12.5h16a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 12.5z"></path>
											</svg>
										</div>

										<div class="col-md-9 ps-md-1">
											<div class="card-body p1">
												<p class="card-text ps-2 mb-1 pt-1 fw-bold">{{ option.delivery_name }}</p>
												<p class="card-text ps-2 mb-1">Estimated delivery time: {{ option.delivery_timeframe }}</p>
												<p class="card-text ps-2 mb-1">$ {{ option.delivery_price }}</p>
											</div>
										</div>
										<div class="col-md-1 ps-md-1">
											<input type="radio" class="align-middle h-11" name="delivery_option" id="{{ option.id }}" value="{{ option.id }}"
												   hx-trigger="click" hx-target="#price" hx-get="{% url 'checkout:update_delivery' option.id %}" hx-swap="outerHTML">
										</div>

									</div>
								</label>
							</div>

						{% endif %}
					{% endfor %}


				</div>
			{% else %}
				<div class="col-12">There are no current delivery methods for this order. <a href="{% url 'store:products_all' %}">Shop</a></div>
			{% endif %}
		</div>
	</div>
{% endblock content %}